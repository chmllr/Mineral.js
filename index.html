<!DOCTYPE html>
<html>

<head>
<meta charset='utf-8' />
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="description" content="Mineral.js : Yet another Lisp in the browser" />
<script type="text/javascript" src="javascripts/Markdown.Converter.js"></script>
<script type="text/javascript" src="javascripts/Mineral.js"></script>
<link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

<title>Mineral.js</title>
</head>

<body onLoad="loadFiles('mrl/mineral.mrl', 'mrl/mineral-console.mrl')">

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/chmllr/Mineral.js">View on GitHub</a>

        <h1 id="project_title">Mineral.js</h1>
        <h2 id="project_tagline">Yet another Lisp in the browser.</h2>

        <section id="downloads">
            <a class="zip_download_link" href="https://github.com/chmllr/Mineral.js/zipball/master">Download this project as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/chmllr/Mineral.js/tarball/master">Download this project as a tar.gz file</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">
    </section>
    <section style="display: none;" id="console_section">
        <h2>Try It Online</h2>
        <textarea rows=15 cols=80 id="mineralConsole"
            onKeyPress="mineral.process_command()"
            onKeyDown="mineral.insert_last_command()"
            class="code"
            style="background: #444;
            font-size: 0.8em;
            color: #bfb;">&gt;&nbsp;</textarea>
    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">Mineral.js maintained by <a href="https://github.com/chmllr">chmllr</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>

<script type="text/javascript">

function loadFile(path) {
    var httpRequest = new XMLHttpRequest();

    var processText = function() {
        if (httpRequest.readyState === 4 && httpRequest.status === 200) {
            var converter = new Markdown.Converter();
            var html = converter.makeHtml(httpRequest.responseText);
            var main_section = document.getElementById("main_content");
            main_section.innerHTML = html;
            main_section.innerHTML += document.getElementById("console_section").innerHTML;
        }
    };

    httpRequest.onreadystatechange = processText;
    httpRequest.onerror = function () { console.error("Couldn't load " + path); }
    httpRequest.open('GET', path);
    httpRequest.send();
}

loadFile("README.md");

var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
    var pageTracker = _gat._getTracker("UA-39551441-1");
    pageTracker._trackPageview();
} catch(err) {}
</script>


</body>
</html>
